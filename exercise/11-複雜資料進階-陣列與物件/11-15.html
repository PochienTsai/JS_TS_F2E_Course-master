<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>淺拷貝與深拷貝 - 3 : JSON.stringify() & JSON.parse()</title>
</head>
<body>
  <script>
    const obj1 = {
      name: "mike",
      info: {
        age: 12,
        address: "taiwan",
        sex: "boy",
        interest: {
          code: "javascript",
          sports: "basketball",
          watch: "movie",
        },
      },
    };
    function deepCopy(obj)
    {
      // JSON.stringify(obj1) : 將物件轉為字串
      // JSON.parse(JSON.stringify(obj1)) : 將字串轉為物件
      return JSON.parse(JSON.stringify(obj));
    }
    const obj2 = deepCopy(obj1); // 深拷貝 : 會複製所有的資料,包含物件或陣列
    obj1.info.interest.code = "React";
    console.log(obj1); // obj1.info.interest.code = "React";
    console.log(obj2); // obj2.info.interest.code = "javascript";
  </script>
</body>
</html>